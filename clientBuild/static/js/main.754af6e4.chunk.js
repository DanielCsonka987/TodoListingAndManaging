(this.webpackJsonpactivitylister=this.webpackJsonpactivitylister||[]).push([[0],{10:function(e,t,a){var n=new RegExp("^[a-zA-Z0-9_.]{4,80}$"),s=a(20),r=s.ClientValidateException,o=s.ClientError;function i(e){return!n.test(e)}function c(e){return e.length<4||e.length>40}function l(e,t){return e.normalize()!==t.normalize()}function d(e){return"undefined"===typeof e||""!==e&&e.length>150}e.exports.regInputRevise=function(e){return new Promise((function(t,a){var n,s=[];try{i(e.username)&&s.push({field:"username",message:"Username is not acceptable! ".concat(e.username)}),c(e.password)&&s.push({field:"password",message:"Password is not acceptable!"}),l(e.password,e.password_repeat)&&s.push({field:"password_repeat",message:"Password confirmation is not matching!"}),0===e.first_name.length&&s.push({field:"first_name",message:"Firstname is not acceptable!"}),""===(n=e.age)||n>5||s.push({field:"age",message:"".concat(e.age," as age is not proper!")})}catch(d){throw new o(d.message)}throw 0===s.length&&t(),new r(s)}))},e.exports.loginInputRevise=function(e){return new Promise((function(t,a){var n=[];try{i(e.username)&&n.push({field:"username",message:"Username is not acceptable! ".concat(e.username)}),c(e.password)&&n.push({field:"password",message:"Password is not acceptable!"})}catch(s){throw new o(s.message)}throw 0===n.length&&t(),new r(n)}))},e.exports.pwdChangeInputRevise=function(e){return new Promise((function(t,a){var n=[];try{c(e.old_password)&&n.push({field:"old_password",message:"Previous password is not acceptable!"}),c(e.new_password)&&n.push({field:"new_password",message:"New password is not acceptable!"}),l(e.new_password,e.password_repeat)&&n.push({field:"password_repeat",message:"New passwords are not matching!"})}catch(s){throw new o(s.message)}throw 0===n.length&&t(),new r(n)}))},e.exports.deleteProfInputRevise=function(e){return new Promise((function(t,a){var n=[];try{c(e.old_password)&&n.push({field:"old_password",message:"Password is not acceptable!"})}catch(s){throw new o(s.message)}throw 0===n.length&&t(),new r(n)}))},e.exports.todoInputRevise=function(e){return new Promise((function(t,a){var n=[];try{""===e.task&&n.push({field:"task",message:"A task title required!"}),e.task.length>150&&n.push({field:"task",message:"Too long task text!"}),(e.priority<1||e.priority>10)&&n.push({field:"priority",message:"A priority is needed in range from 1 to 10!"}),d(e.notation)&&n.push({field:"notation",message:"Too long notation text!"})}catch(s){throw new o(s.message)}throw 0===n.length&&t(),new r(n)}))},e.exports.todoNotationInputRevise=function(e){return new Promise((function(t,a){var n=[];try{d(e)&&n.push({field:"notation",message:"Too long notation text!"})}catch(s){throw new o(s.message)}throw 0===n.length&&t(),new r(n)}))}},20:function(e,t,a){"use strict";a.r(t),a.d(t,"ServerError",(function(){return i})),a.d(t,"ServerException",(function(){return c})),a.d(t,"ServerValidateException",(function(){return l})),a.d(t,"ClientException",(function(){return d})),a.d(t,"ClientValidateException",(function(){return u})),a.d(t,"ClientError",(function(){return h}));var n=a(4),s=a(5),r=a(6),o=a(11),i=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e,s){var r;return Object(n.a)(this,a),(r=t.call(this,s)).message=e,r.name="MyServerError",r}return a}(Object(o.a)(Error)),c=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).name="MyServerException",s}return a}(Object(o.a)(Error)),l=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e,s){var r;return Object(n.a)(this,a),(r=t.call(this,s)).errorFields={field:e.report.value,message:e.message},r.message=e.message,r.name="MyServerValidateException",r}return a}(Object(o.a)(Error)),d=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).name="MyClientException",s}return a}(Object(o.a)(Error)),u=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e,s){var r;return Object(n.a)(this,a),(r=t.call(this,s)).errorFields=e,r.name="MyClientValidateException",r.message="Input filed error(s) occured!",r}return a}(Object(o.a)(Error)),h=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e,s){var r;return Object(n.a)(this,a),(r=t.call(this,s)).message=e,r.name="MyClientError",r}return a}(Object(o.a)(Error))},27:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(21),o=a.n(r),i=(a(27),a(17)),c=a(3),l=a.n(c),d=a(7),u=a(4),h=a(8),p=a(1),g=a(5),b=a(6),f=(a(29),a(30),a(31),a(32),a(0)),m=function(){return Object(f.jsxs)("aside",{className:"aboutContent",children:[Object(f.jsx)("h3",{children:"Demonstrative site by Daniel Csonka"}),Object(f.jsx)("p",{children:"This site is made with the purpose demonstrating the theoretical and technical IT knowledges, capabilities of the creator."}),Object(f.jsx)("p",{children:"The main role of this app is to maintain the activity list of a previously registered and logged in person. The registration not requires real personal datas - suggested the usage of dummy details for manual testing. As an evidence it manages list of users, it shows the registered users of the system by a unique username . After the registration and/or login it is recording the activity, its priority, some notation, present the date of creation, last update of that. It can manage some details of the account - password change or delet the account."}),Object(f.jsx)("p",{children:"It is a typically MERN, REST-full web application, a full-stack development of the latter mentinoed person with own content and idea. The capabilities mainly cover simple CRUD, session-cookie managmement, basic password handling processes. Front-styling is made with the requirement of being resposible, minimally cross-browser tested and being resistent to older browser rendering errors that connot execute grid or flex laying out. It is tested by manual and automated methods. It uses typical HTTP 1.1 protocol to keep contatct with the monolitic server application."}),Object(f.jsx)("p",{children:" All rigths reserved!"}),Object(f.jsx)("p",{children:"Front technologies, technics, standards:"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"JavaScript React Framework"}),Object(f.jsx)("li",{children:"JacaScript Core Fetch API"}),Object(f.jsx)("li",{children:"Unique CSS definitions and Google Icons"}),Object(f.jsx)("li",{children:"JavaScript Jest test framework and Testing Library"})]}),Object(f.jsx)("p",{children:"Back-end technologies, technics, standards:"}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"JavaScript Node Runtime Environment"}),Object(f.jsx)("li",{children:"Express JS Framework"}),Object(f.jsx)("li",{children:"Several JavaScript utility libraries"}),Object(f.jsx)("li",{children:"Free Heroku and MongoDB Cloud services"}),Object(f.jsx)("li",{children:"JavaScript Mocha-Chai test framework and library"})]})]})};var j=function(e){return Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)("header",{className:"appHeader1 blackBackgr logo",children:Object(f.jsxs)("h1",{children:["ActivityLister",Object(f.jsx)("span",{className:"regSymbol",children:"\xae"})]})}),Object(f.jsx)("div",{className:"appHeader2 blackBackgr siteMessage ",children:Object(f.jsx)("h2",{children:"Web aplication that helps you to be strict!"})})]})},v=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(h.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.hasError?Object(f.jsxs)("h3",{children:["The Application has an error at ",this.props.location,"!"]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component);var O=function(e){if(""===e.messageContent||"undefined"===typeof e.messageContent)return Object(f.jsx)(n.Fragment,{});var t="msgLine",a="warn"===e.messageContent.type?"errorText":"msgText";return"string"===typeof e.messageContent.msg?Object(f.jsx)("div",{className:t,children:Object(f.jsx)("p",{className:a,children:e.messageContent.msg})}):e.messageContent.msg.map((function(e,n){return Object(f.jsxs)("div",{className:t,children:[Object(f.jsx)("span",{className:a,children:e.message}),Object(f.jsx)("a",{href:"#".concat(e.field),children:Object(f.jsx)("i",{className:"material-icons",children:"arrow_back"})})]},n)}))},x=function(e){return Object(f.jsxs)("div",{className:"footerPopup",children:[Object(f.jsx)("span",{className:"cookiePopupText",children:"This site uses some essential cookies for the proper functionality. The site do not collect or persist personal information of any kind."}),Object(f.jsx)("button",{className:"cookiePopupBtn clickable",onClick:e.funcUserAcknowl,children:"Acknowlegded"})]})},w=a(20),C=w.ClientException,y=w.ServerException,k=w.ServerError,S=w.ServerValidateException,I=function(e,t,a){return new Promise((function(n,s){if(!e)throw new C("Front development error - no path!");if(!t)throw new C("Front development error - no method!");var r={method:t,mode:"same-origin",cache:"no-cache",credentials:"include",headers:{Accept:"application/json",Connection:"keep-alive","Content-Type":"application/x-www-form-urlencoded"},redirect:"follow",referencePolicy:"origin"};a&&(r.body=a),n({apiPath:e,init:r})})).then((function(e){return fetch(e.apiPath,e.init).then(function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return a=e.sent,e.next=5,JSON.parse(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch(function(){var a=Object(d.a)(l.a.mark((function a(n){var s,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("MyClientException"!==n.name){a.next=2;break}throw n;case 2:if("function"!==typeof n.text){a.next=20;break}return s="",a.prev=4,a.next=7,n.text();case 7:r=a.sent,s=JSON.parse(r),a.next=15;break;case 11:throw a.prev=11,a.t0=a.catch(4),console.log("Error url: "+e+" "+t),new k("Api error! No such service!");case 15:if("failed"!==s.status||"simple"!==s.report.type){a.next=17;break}throw new S(s);case 17:throw new y(s.message);case 20:throw new k("Api error! Server is not responding!");case 21:case"end":return a.stop()}}),a,null,[[4,11]])})));return function(e){return a.apply(this,arguments)}}())};var A=function(e){var t="";return t+="username=".concat(e.username,"&"),t+="password=".concat(e.password,"&"),t+="password_repeat=".concat(e.password_repeat,"&"),t+="first_name=".concat(e.first_name,"&"),t+=""===e.last_name?"last_name=&":"last_name=".concat(e.last_name,"&"),t+=""===e.age?"age=0&":"age=".concat(e.age,"&"),t+="occupation=".concat(e.occupation)},P=function(e,t){var a="";return a+="username=".concat(e,"&"),a+="password=".concat(t)},M=function(e,t){var a="";return a+="old_password=".concat(e,"&"),a+="new_password=".concat(t)},N=function(e){var t="";return t+="task=".concat(e.task,"&"),t+="priority=".concat(e.priority,"&"),t+="notation=".concat(e.notation)},E=a(9),D=a(19),T=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).showBubbleOnScreen=n.showBubbleOnScreen.bind(Object(p.a)(n)),n.removeBubbleOnScreen=n.removeBubbleOnScreen.bind(Object(p.a)(n)),n.state={bubbleAppearance:!1},n}return Object(h.a)(a,[{key:"showBubbleOnScreen",value:function(){this.setState({bubbleAppearance:!0})}},{key:"removeBubbleOnScreen",value:function(){this.setState({bubbleAppearance:!1})}},{key:"render",value:function(){var e=this.state.bubbleAppearance&&this.props.children?Object(f.jsx)("span",{className:"btnTooltipBubble",children:this.props.children}):"",t="";t="number"===this.props.type?"formUnitInputNumberStyle":"formUnitInputGeneralStyle";var a={};return this.props.numberMinMax&&(a.min=this.props.numberMinMax[0],a.max=this.props.numberMinMax[1]),Object(f.jsxs)("div",{className:"formInputOuterWrapper "+this.props.classes,children:[Object(f.jsxs)("div",{className:"formInputInnerWrapper",children:[Object(f.jsx)("label",{className:"formAndCardLabels",htmlFor:this.props.id,children:this.props.label}),Object(f.jsx)("input",Object(D.a)(Object(D.a)({className:t,name:this.props.name,type:this.props.type,id:this.props.id,value:this.props.value},a),{},{onChange:this.props.funcChange,onKeyPress:this.props.funcHitEnter,onFocus:this.showBubbleOnScreen,onMouseOver:this.showBubbleOnScreen,onBlur:this.removeBubbleOnScreen,onMouseOut:this.removeBubbleOnScreen}))]}),e]})}}]),a}(n.Component),F=a(22);var B=function(e){var t=[],a="",s=Object(n.useState)(!1),r=Object(F.a)(s,2),o=r[0],i=r[1];"big"===e.sizing?(t[0]="btnObjBig ",t[1]="iconAndTextTogether ",e.children&&(a=Object(f.jsxs)("span",{className:"textNextToIcon "+e.textClasses,children:[e.children," "]}))):(t[0]="btnObjSmall ",t[1]="iconWithoutText ",e.children&&(a=o?Object(f.jsxs)("span",{className:"btnTooltipBubble",name:e.naming,children:[e.children," "]}):""));var c=function(){i(!0)},l=function(){i(!1)};return Object(f.jsx)("button",{name:e.naming,className:"clickable "+t[0]+e.wrapperBlockClasses,onClick:e.funcClickActivity,onFocus:c,onMouseOver:c,onBlur:l,onMouseOut:l,children:Object(f.jsxs)("span",{name:e.naming,className:t[1]+e.wrapperInlineClasses,children:[Object(f.jsx)("i",{name:e.naming,className:"material-icons iconItself",children:e.iconDef}),a]})})},L=function(e){var t,a=e.inputModeChange,s="";return"none"===a&&(s=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:"btnChange",iconDef:"edit",funcClickActivity:e.funcPwdChange,children:"Change password"}),Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:"btnDelete",iconDef:"delete",funcClickActivity:e.funcProfDel,children:"Delete account"}),Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:"btnLogout",iconDef:"lock",funcClickActivity:e.funcLogOut,children:"Logout"})]})),"pwd"===a&&(t=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(T,{label:"Old password:",type:"password",name:"old_password",id:"old_password",value:e.oldPwd,funcChange:e.funcInputChange}),Object(f.jsx)(T,{label:"New password:",type:"password",name:"new_password",id:"new_password",value:e.newPwd,funcChange:e.funcInputChange}),Object(f.jsx)(T,{label:"Password again:",type:"password",name:"password_repeat",id:"password_repeat",value:e.repPwd,funcChange:e.funcInputChange})]}),s=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:"btnChange",iconDef:"send",funcClickActivity:e.funcPwdChange,children:"Change password"}),Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:"btnBack",iconDef:"cancel",funcClickActivity:e.funcCancelModify,children:"Cancel"})]})),"del"===a&&(t=Object(f.jsx)(n.Fragment,{children:Object(f.jsx)(T,{label:"Password:",type:"password",name:"old_password",id:"old_password",value:e.oldPwd,funcChange:e.funcInputChange})}),s=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:"btnDelete",iconDef:"delete",funcClickActivity:e.funcProfDel,children:"Delete account"}),Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:"btnBack",iconDef:"cancel",funcClickActivity:e.funcCancelModify,children:"Cancel"})]})),Object(f.jsxs)("div",{className:"contentSetCenter",children:[Object(f.jsxs)("p",{className:"userDetail",children:[Object(f.jsx)("span",{className:"formAndCardLabels",children:"Fullname:"}),Object(f.jsxs)("span",{children:[" ",e.extraDatas.fullname]})]}),Object(f.jsxs)("p",{className:"userDetail",children:[Object(f.jsx)("span",{className:"formAndCardLabels",children:"Age: "}),Object(f.jsx)("span",{children:e.extraDatas.age})]}),Object(f.jsxs)("p",{className:"userDetail",children:[Object(f.jsx)("span",{className:"formAndCardLabels",children:"Occupation: "}),Object(f.jsx)("span",{children:e.extraDatas.occupation})]}),Object(f.jsx)("section",{className:"profileInputContainer",children:t}),Object(f.jsx)("section",{className:"buttonGroupWrapper",children:s})]})},_=function(e){return Object(f.jsxs)("div",{className:"contentSetCenter",children:[Object(f.jsx)(T,{label:"Password:",classes:"userDetail",type:"password",name:"password",id:"pwdLog",value:e.pwd,funcChange:e.funcInputChange,funcHitEnter:function(t){"keypress"===t.type&&"Enter"===t.code&&e.funcInputHitEnter()}}),Object(f.jsx)("div",{className:"buttonGroupWrapper",children:Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:"btnLogin",iconDef:"lock_open",funcClickActivity:e.funcLogin,children:"Login"})})]})};var U=function(e){var t=Object(f.jsxs)("p",{className:"clickable iconTextTogether "+e.wrapperInlineClasses||!1,onKeyPress:e.funcKeyPressActivity,onClick:e.funcClickActivity,tabIndex:e.tabIndexing,children:[Object(f.jsx)("i",{className:"material-icons iconItself",children:e.iconDef}),Object(f.jsx)("span",{className:"textNextToIcon tileNameText "+e.textClasses,children:e.tileText})]});return e.setTestId?Object(f.jsxs)("div",{"data-testid":e.setTestId,className:"cardAreaPadding cardAreaEdge "+e.wrapperBlockClasses||!1,children:[t,e.children]}):Object(f.jsxs)("div",{className:"cardAreaPadding cardAreaEdge "+e.wrapperBlockClasses||!1,children:[t,e.children]})},R=a(10),V=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleAPIError=n.handleAPIError.bind(Object(p.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(p.a)(n)),n.handleCardFocus=n.handleCardFocus.bind(Object(p.a)(n)),n.handleLogin=n.handleLogin.bind(Object(p.a)(n)),n.handleLogOut=n.handleLogOut.bind(Object(p.a)(n)),n.handlePwdChange=n.handlePwdChange.bind(Object(p.a)(n)),n.handleAccountDel=n.handleAccountDel.bind(Object(p.a)(n)),n.handleCancelModify=n.handleCancelModify.bind(Object(p.a)(n)),n.setBaseCardState=n.setBaseCardState.bind(Object(p.a)(n)),n.setPwdChangeCardState=n.setPwdChangeCardState.bind(Object(p.a)(n)),n.setAccDelCardState=n.setAccDelCardState.bind(Object(p.a)(n)),n.state={password:"",old_password:"",new_password:"",password_repeat:"",actualCardState:"none",profileMessage:""},n}return Object(h.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleCardFocus",value:function(e){"click"===e.type&&this.props.funcCardFocus(this.props.userid),"keypress"!==e.type||"Space"!==e.code&&"Enter"!==e.code||this.props.funcCardFocus(this.props.userid)}},{key:"handleAPIError",value:function(e){var t="";t=e.name.includes("Validate")?e.errorFields:e.message,this.setState({profileMessage:{type:"warn",msg:t}})}},{key:"handleLogin",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.loginInputRevise)(this.state);case 3:return t=P(this.props.username,this.state.password),e.next=6,I(this.props.loginUrl,"POST",t);case 6:a=e.sent,this.setState({password:"",profileMessage:{type:"success"===a.status?"norm":"warn",msg:a.message}}),this.props.funcLoginProc(a,"login"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.handleAPIError(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleLogOut",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(this.props.userExtraDatas.logoutUrl,"GET","");case 3:t=e.sent,this.props.funcLogoutProc(this.props.userid,t.message),this.setBaseCardState(""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.handleAPIError(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"handlePwdChange",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"pwd"!==this.state.actualCardState){e.next=11;break}return e.next=4,Object(R.pwdChangeInputRevise)(this.state);case 4:return t=M(this.state.old_password,this.state.new_password),e.next=7,I(this.props.userExtraDatas.changePwdDelAccUrl,"PUT",t);case 7:a=e.sent,this.setBaseCardState(a.message),e.next=12;break;case 11:this.setPwdChangeCardState("");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),this.handleAPIError(e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleAccountDel",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"del"!==this.state.actualCardState){e.next=5;break}return e.next=4,Object(R.deleteProfInputRevise)(this.state);case 4:this.props.funcCardRemoval(this.state.old_password,this.props.userid);case 5:this.setAccDelCardState(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.handleAPIError(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleCancelModify",value:function(){this.setBaseCardState("")}},{key:"setBaseCardState",value:function(e){this.setState({old_password:"",new_password:"",password_repeat:"",actualCardState:"none",profileMessage:{type:"norm",msg:e}})}},{key:"setPwdChangeCardState",value:function(){this.setState({actualCardState:"pwd",profileMessage:{type:"norm",msg:"For password change fill the form!"}})}},{key:"setAccDelCardState",value:function(){this.setState({actualCardState:"del",profileMessage:{type:"norm",msg:"For deletion give the password!"}})}},{key:"render",value:function(){var e="object"===typeof this.props.userExtraDatas,t=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(_,{pwd:this.state.password,funcInputChange:this.handleInputChange,funcInputHitEnter:this.handleLogin,funcLogin:this.handleLogin}),Object(f.jsx)(O,{messageContent:this.state.profileMessage})]}),a=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(L,{extraDatas:e?this.props.userExtraDatas:"",oldPwd:this.state.old_password,newPwd:this.state.new_password,repPwd:this.state.password_repeat,inputModeChange:this.state.actualCardState,funcInputChange:this.handleInputChange,funcPwdChange:this.handlePwdChange,funcProfDel:this.handleAccountDel,funcCancelModify:this.handleCancelModify,funcLogOut:this.handleLogOut}),Object(f.jsx)(O,{messageContent:this.state.profileMessage||this.props.userExtraMessage})]}),s=this.state.cardOnFocus?"cardUserActive":"cardUserInactive",r=this.props.cardOnFocus?e?a:t:"";return Object(f.jsxs)(U,{wrapperBlockClasses:""+s,wrapperInlineClasses:"",funcKeyPressActivity:this.handleCardFocus,funcClickActivity:this.handleCardFocus,tabIndexing:"0",iconDef:"account_circle",tileText:this.props.username,children:[r," "]})}}]),a}(n.Component),z=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=n.handleInputChange.bind(Object(p.a)(n)),n.handleFormToggle=n.handleFormToggle.bind(Object(p.a)(n)),n.handleAPIError=n.handleAPIError.bind(Object(p.a)(n)),n.handleRegisterClick=n.handleRegisterClick.bind(Object(p.a)(n)),n.state={username:"",password:"",password_repeat:"",first_name:"",last_name:"",age:"",occupation:"",registerMessage:"",areaVisibilityIsNeeded:!1},n}return Object(h.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t)}},{key:"handleFormToggle",value:function(e){("keypress"!==e.type||"Space"!==e.code&&"Enter"!==e.code)&&"click"!==e.type||this.setState({areaVisibilityIsNeeded:!this.state.areaVisibilityIsNeeded,registerMessage:""})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleAPIError",value:function(e){this.setState({registerMessage:{type:"warn",msg:e}})}},{key:"handleRegisterClick",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.regInputRevise)(this.state);case 3:this.props.funcRegister(this.state),this.setState({username:"",password:"",password_repeat:"",first_name:"",last_name:"",age:"",occupation:"",registerMessage:""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),"MyClientValidateException"===e.t0.name?this.handleAPIError(e.t0.errorFields):this.handleAPIError(e.t0.message);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=Object(f.jsx)(O,{messageContent:this.state.registerMessage}),t=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)("p",{className:"cardExlpanation",children:"Filling the fields with * are required!"}),Object(f.jsxs)("div",{className:"profileInputContainer",children:[Object(f.jsx)(T,{label:"Username*:",type:"text",name:"username",id:"username",value:this.state.username,funcChange:this.handleInputChange,children:"It must be at least 4, at most 40 characters long, no symbols or space!"}),Object(f.jsx)(T,{label:"Password*:",type:"password",name:"password",id:"password",value:this.state.password,funcChange:this.handleInputChange,children:"It must be at least 4, at most 40 characters long, all characters permitted!"}),Object(f.jsx)(T,{label:"Password again*:",type:"password",name:"password_repeat",id:"password_repeat",value:this.state.password_repeat,funcChange:this.handleInputChange,children:"It must be the same as in the password field!"}),Object(f.jsx)(T,{label:"Firstname*:",type:"text",name:"first_name",id:"first_name",value:this.state.first_name,funcChange:this.handleInputChange,children:"It should be some characters, at most 80!"}),Object(f.jsx)(T,{label:"Lastname:",type:"text",name:"last_name",id:"last_name",value:this.state.last_name,funcChange:this.handleInputChange,children:"Not mandatory!"}),Object(f.jsx)(T,{label:"Age:",type:"number",name:"age",id:"age",value:this.state.age,funcChange:this.handleInputChange,children:"It should be reasonable number, not mandatory!"}),Object(f.jsx)(T,{label:"Occupation:",type:"text",name:"occupation",id:"occupation",value:this.state.occupation,funcChange:this.handleInputChange,children:"Not mandatory!"})]}),Object(f.jsx)("div",{className:"cardErrorMessage","data-testid":"regErrors",children:e}),Object(f.jsx)("div",{className:"buttonGroupWrapper",children:Object(f.jsx)(B,{sizing:"big",wrapperBlockClasses:" btnCreate",iconDef:"send",funcClickActivity:this.handleRegisterClick,children:"Registration"})})]});return Object(f.jsx)(U,{wrapperBlockClasses:"contentSetCenter",wrapperInlineClasses:"",funcKeyPressActivity:this.handleFormToggle,funcClickActivity:this.handleFormToggle,tabIndexing:"0",iconDef:"person_add",tileText:"Registration",children:this.state.areaVisibilityIsNeeded?t:""})}}]),a}(n.Component),G=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).showBubbleOnScreen=n.showBubbleOnScreen.bind(Object(p.a)(n)),n.removeBubbleOnScreen=n.removeBubbleOnScreen.bind(Object(p.a)(n)),n.state={bubbleAppearance:!1},n}return Object(h.a)(a,[{key:"showBubbleOnScreen",value:function(){this.setState({bubbleAppearance:!0})}},{key:"removeBubbleOnScreen",value:function(){this.setState({bubbleAppearance:!1})}},{key:"render",value:function(){var e=this.state.bubbleAppearance&&this.props.children?Object(f.jsx)("span",{className:"textareaTooltipBubble",children:this.props.children}):"";return Object(f.jsxs)("div",{className:"formTextareaOuterWrapper "+this.props.classes,children:[Object(f.jsxs)("div",{className:"formTextareaInnerWrapper",children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("label",{className:"formAndCardLabels",htmlFor:this.props.id,children:this.props.label}),Object(f.jsxs)("span",{className:"formTextareaCounter",children:[" (Remained ",this.props.maxCharLength-this.props.value.length+" ","from ",this.props.maxCharLength,")"]})]}),Object(f.jsx)("textarea",{className:"formTextareaInput",rows:4,maxLength:this.props.maxCharLength,name:this.props.name,id:this.props.id,value:this.props.value,onChange:this.props.funcChange,onKeyPress:this.props.funcHitEnter,onFocus:this.showBubbleOnScreen,onMouseOver:this.showBubbleOnScreen,onBlur:this.removeBubbleOnScreen,onMouseOut:this.removeBubbleOnScreen})]}),e]})}}]),a}(n.Component);var J=function(e){var t=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(G,{classes:"todoInputForNote",id:"noteTodo",label:"Notation:",name:"notation",maxCharLength:"150",value:e.noteValue,funcChange:e.funcChangeNotation,children:"If you define this, it must be max 150 character!"}),Object(f.jsxs)("div",{children:[Object(f.jsx)(B,{iconDef:"send",wrapperBlockClasses:"btnCreate",funcClickActivity:e.funcExecNotify,children:"Save the new notation!"}),Object(f.jsx)(B,{naming:"forNotation",iconDef:"cancel",wrapperBlockClasses:"btnBack",funcClickActivity:e.funcModeSwitch,children:"Cancel notation editing!"})]})]}),a=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)("p",{className:"todoItemForShowNote",children:e.notation?e.notation:"Notation none..."}),Object(f.jsx)(B,{naming:"forNotation",iconDef:"edit",wrapperBlockClasses:"btnChange",funcClickActivity:e.funcModeSwitch,children:"Edit this notation!"})]});return Object(f.jsx)("div",{className:"todoItemForNotation",children:"notationChange"===e.notationAreaMode?t:a})};var W=function(e){var t=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(B,{iconDef:"delete",wrapperBlockClasses:"btnDelete",funcClickActivity:e.funcExecDelete,children:"Confirm the deletion!"}),Object(f.jsx)(B,{naming:"forDeletion",iconDef:"cancel",wrapperBlockClasses:"btnBack",funcClickActivity:e.funcModeSwitch,children:"Cancel the task deletion!"})]}),a=Object(f.jsx)(B,{sizing:"small",naming:"forDeletion",wrapperBlockClasses:"btnDelete",iconDef:"delete",funcClickActivity:e.funcModeSwitch,children:"Delete this task!"});return Object(f.jsx)("div",{className:"todoItemForDel",children:"deleteConfirm"===e.deleteAreaMode?t:a})};var q=function(e){var t="Finished"===e.actStatusText,a=t?"close":"done",n=t?"btnChange":"btnCreate",s=t?"Cancel this task!":"Make this task to done!";return Object(f.jsxs)("p",{className:"todoItemForSatus",children:[Object(f.jsxs)("span",{children:[Object(f.jsx)("span",{className:"formAndCardLabels",children:"State: "}),e.actStatusText]}),Object(f.jsx)(B,{wrapperBlockClasses:n,naming:"forStatus",funcClickActivity:e.funcStatusChange,iconDef:a,children:s})]})},H={year:"numeric",weekday:"short",month:"long",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit"};var K=function(e){var t=new Date(e.dateContent).toLocaleDateString("en-US",H);return Object(f.jsxs)("p",{children:[Object(f.jsxs)("span",{className:"dataLabelMarking",children:[e.children," "]}),Object(f.jsxs)("span",{children:["   ","".concat(t," "),"  "]})]})},Y=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=n.handleInputChange.bind(Object(p.a)(n)),n.handleModeSwitch=n.handleModeSwitch.bind(Object(p.a)(n)),n.handleClickDelete=n.handleClickDelete.bind(Object(p.a)(n)),n.todoStatusChangeProc=n.todoStatusChangeProc.bind(Object(p.a)(n)),n.todoNoteChangeProc=n.todoNoteChangeProc.bind(Object(p.a)(n)),n.state={componentMode:"normal",notation:"",todoMessage:""},n}return Object(h.a)(a,[{key:"todoStatusChangeProc",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="Finished"===this.props.todoDatas.status?"false":"true",a="status=".concat(t),e.next=5,I(this.props.todoDatas.statusChangeUrl,"PUT",a);case 5:"success"===(n=e.sent).status?(s="Finished"===this.props.todoDatas.status?"Proceeding":"Finished",this.props.funcStateChanged(this.props.todoDatas.id,s,this.props.todoDatas.notation,n.report.value)):this.handleAPIError(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.handleAPIError(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"todoNoteChangeProc",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.todoNotationInputRevise)(this.state.notation);case 3:return n=this.state.notation,t="notation=".concat(n),e.next=6,I(this.props.todoDatas.notationChangeUrl,"PUT",t);case 6:"success"===(a=e.sent).status?(this.props.funcStateChanged(this.props.todoDatas.id,this.props.todoDatas.status,this.state.notation,a.report.value),this.handleModeSwitch({target:{name:"forNotation"}})):this.handleAPIError(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.handleAPIError(e.t0);case 13:case"end":return e.stop()}var n}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleAPIError",value:function(e){this.setState({todoMessage:{type:"warn",msg:e.name.includes("Validate")?e.errorFields:e.message}})}},{key:"handleModeSwitch",value:function(e){if("normal"===this.state.componentMode){var t=e.target.attributes.name.value;"forNotation"===t&&this.setState({notation:this.props.todoDatas.notation,componentMode:"notationChange"}),"forDeletion"===t&&this.setState({todoMessage:{type:"warn",msg:"Do you really delete this?"},componentMode:"deleteConfirm"})}else this.setState({componentMode:"normal",todoMessage:""})}},{key:"handleClickDelete",value:function(){this.props.funcTodoRemove(this.props.todoDatas.removingUrl,this.props.todoDatas.id)}},{key:"render",value:function(){return Object(f.jsxs)("article",{className:"todoItem cardAreaEdge cardAreaPadding","data-testid":"todoCard"+this.props.todoDatas.id,children:[Object(f.jsxs)("h4",{className:"todoItemForTask",children:[" ",this.props.todoDatas.task]}),Object(f.jsx)(W,{deleteAreaMode:this.state.componentMode,funcExecDelete:this.handleClickDelete,funcModeSwitch:this.handleModeSwitch}),Object(f.jsx)(J,{notation:this.props.todoDatas.notation,notationAreaMode:this.state.componentMode,noteValue:this.state.notation,funcExecNotify:this.todoNoteChangeProc,funcModeSwitch:this.handleModeSwitch,funcChangeNotation:this.handleInputChange}),Object(f.jsxs)("p",{className:"todoItemForPrioirty",children:[Object(f.jsx)("span",{className:"formAndCardLabels",children:"Priority: "}),Object(f.jsx)("span",{children:this.props.todoDatas.priority})]}),Object(f.jsxs)("div",{className:"todoItemForDates",children:[Object(f.jsx)(K,{dateContent:this.props.todoDatas.start,children:"Start:"}),Object(f.jsx)(K,{dateContent:this.props.todoDatas.update,children:"Update:"})]}),Object(f.jsx)(q,{actStatusText:this.props.todoDatas.status,funcStatusChange:this.todoStatusChangeProc}),Object(f.jsx)(O,{messageContent:this.state.todoMessage})]})}}]),a}(n.Component),Z=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleAPIError=n.handleAPIError.bind(Object(p.a)(n)),n.handleToogleArea=n.handleToogleArea.bind(Object(p.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(p.a)(n)),n.handleTodoSave=n.handleTodoSave.bind(Object(p.a)(n)),n.setInputsAndValuesBlank=n.setInputsAndValuesBlank.bind(Object(p.a)(n)),n.state={addInputShowToggle:!1,task:"",priority:0,notation:"",todoInputMsg:""},n}return Object(h.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleAPIError",value:function(e){this.setState({todoInputMsg:{type:"warn",msg:e.name.includes("Validate")?e.errorFields:e.message}})}},{key:"handleTodoSave",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.todoInputRevise)(this.state);case 3:return t=N(this.state),e.next=6,I(this.props.createNewTodoUrl,"POST",t);case 6:"success"===(a=e.sent).status?(this.props.funcTodoSave(a.report.value,a.message),this.setInputsAndValuesBlank(!1)):this.setState({todoInputMsg:{type:"warn",msg:a.message}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.handleAPIError(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleToogleArea",value:function(){this.setInputsAndValuesBlank(!0)}},{key:"setInputsAndValuesBlank",value:function(e){e?this.setState({addInputShowToggle:!this.state.addInputShowToggle,todoInputMsg:"",task:"",notation:"",priority:0}):this.setState({task:"",priority:0,notation:"",todoInputMsg:"",addInputShowToggle:!1})}},{key:"render",value:function(){var e=Object(f.jsx)(O,{messageContent:this.state.todoInputMsg}),t="";return this.state.addInputShowToggle&&(t=Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(G,{classes:"todoInputForTask",id:"task",label:"Task:*",name:"task",maxCharLength:"150",value:this.state.task,funcChange:this.handleInputChange,children:"It must be at most 150 character. Required!"}),Object(f.jsx)(G,{classes:"todoInputForNote",id:"notation",label:"Notation:",name:"notation",maxCharLength:"150",value:this.state.notation,funcChange:this.handleInputChange,children:"If you define this, it must be max 150 character!"}),Object(f.jsx)(T,{classes:"todoInputForPrior",id:"priority",label:"Priority:*",type:"number",name:"priority",numberMinMax:[1,10],value:this.state.priority,funcChange:this.handleInputChange,children:"It must be between 1-10 value. Required!"}),Object(f.jsx)("div",{className:"contentSetCenter todoInputForBtn buttonGroupWrapper",children:Object(f.jsx)(B,{sizing:"big",iconDef:"create",wrapperBlockClasses:"btnCreate",funcClickActivity:this.handleTodoSave,children:"Save"})}),Object(f.jsxs)("div",{className:"todoInputForMsg",children:[" ",e,"  "]})]})),Object(f.jsx)(U,{setTestId:"todoInputToTest",wrapperBlockClasses:"todoInput contentSetCenter",wrapperInlineClasses:"",funcKeyPressActivity:this.handleToogleArea,funcClickActivity:this.handleToogleArea,tabIndexing:"0",iconDef:"",tileText:"Add new activity",children:t})}}]),a}(n.Component),$=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).todoAdditionProc=n.todoAdditionProc.bind(Object(p.a)(n)),n.todoRemoveProc=n.todoRemoveProc.bind(Object(p.a)(n)),n.todoChangeStateProc=n.todoChangeStateProc.bind(Object(p.a)(n)),n.handleApiError=n.handleApiError.bind(Object(p.a)(n)),n.isMountedVal=0,n.state={todos:e.todoContent,todoGeneralMessage:""},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.isMountedVal=1}},{key:"componentWillUnmount",value:function(){this.isMountedVal=0}},{key:"todoAdditionProc",value:function(e,t){try{this.setState({todos:[].concat(Object(i.a)(this.state.todos),[e]),todoGeneralMessage:{type:"norm",msg:t}})}catch(a){this.handleApiError(a)}}},{key:"todoRemoveProc",value:function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t,"DELETE","");case 3:"success"===(n=e.sent).status&&this.isMountedVal&&this.setState({todos:this.state.todos.filter((function(e){return e.id!==a})),todoGeneralMessage:{type:"norm",msg:n.message}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.handleApiError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"todoChangeStateProc",value:function(e,t,a,n){this.setState({todos:this.state.todos.map((function(s){if(s.id===e){var r=s;return r.status=t,r.notation=a,r.update=n,r}return s}))})}},{key:"handleApiError",value:function(e){console.log(e),this.setState({todoGeneralMessage:{type:"warn",msg:e.message}})}},{key:"render",value:function(){var e=this,t="",a=0;return"object"===typeof this.state.todos?this.state.todos.length>0?(a=this.state.todos.length,t=this.state.todos.map((function(t,a){return t.id?Object(f.jsx)(v,{location:"TodoItem ".concat(t.id),children:Object(f.jsx)(Y,{todoDatas:t,funcStateChanged:e.todoChangeStateProc,funcTodoRemove:e.todoRemoveProc},t.id)},t.id):Object(f.jsx)(n.Fragment,{})})).sort((function(e,t){return e.key<t.key}))):t=Object(f.jsx)("div",{children:"No content to show!"}):t=Object(f.jsx)("div",{children:"Error occured!"}),Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)(Z,{createNewTodoUrl:this.props.createNewTodo,funcTodoSave:this.todoAdditionProc}),Object(f.jsxs)("section",{className:"todoList",children:[Object(f.jsxs)("div",{className:"todoInfoArea",children:[Object(f.jsxs)("h3",{className:"titleText",children:["Your requested activities: ",a," item"]}),Object(f.jsx)(O,{messageContent:this.state.todoGeneralMessage})]}),Object(f.jsx)("div",{className:"todoCardArea",children:t})]})]})}}]),a}(n.Component),Q=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).handleCardFocus=n.handleCardFocus.bind(Object(p.a)(n)),n.handleAPIError=n.handleAPIError.bind(Object(p.a)(n)),n.handleLoginProc=n.handleLoginProc.bind(Object(p.a)(n)),n.handleLogoutProc=n.handleLogoutProc.bind(Object(p.a)(n)),n.readBackSessionStoreage=n.readBackSessionStoreage.bind(Object(p.a)(n)),n.fillInSessionStore=n.fillInSessionStore.bind(Object(p.a)(n)),n.emptySessionStore=n.emptySessionStore.bind(Object(p.a)(n)),n.setUserAcknowlCookie=n.setUserAcknowlCookie.bind(Object(p.a)(n)),n.getUserAcknowlCookie=n.getUserAcknowlCookie.bind(Object(p.a)(n)),n.registerProfProc=n.registerProfProc.bind(Object(p.a)(n)),n.removeProfProc=n.removeProfProc.bind(Object(p.a)(n)),n.state={profiles:"",profileColumnMsg:"",profileAreaMsg:"",registerAreaMsg:"",cardOnFocusId:-1,loggedUser:"",userAcknolwledge:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.getUserAcknowlCookie(),e.next=4,I("/profile/","GET","");case 4:if("failed"!==(t=e.sent).status&&0!==t.report.value.length){e.next=10;break}this.setState({profiles:[]}),this.setState({profileColumnMsg:{type:"norm",msg:t.message}}),e.next=15;break;case 10:return this.setState({profiles:t.report.value}),e.next=13,I("/profile/revise","GET","");case 13:"success"===(a=e.sent).status?this.handleLoginProc(a,"reload"):this.handleLogoutProc(!0,t.message);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),this.handleAPIError(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"registerProfProc",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=A(t),e.next=4,I("/profile/register","POST",a);case 4:"success"===(n=e.sent).status&&(s={id:n.report.value.id,username:t.username,loginProfile:n.report.value.loginUrl},this.setState({profiles:[].concat(Object(i.a)(this.state.profiles),[s]),cardOnFocusId:n.report.value.id,loggedUser:n.report.value,profileColumnMsg:{type:"norm",msg:n.message},registerAreaMsg:""})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.handleAPIError(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeProfProc",value:function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="old_password=".concat(t),e.next=4,I(this.state.loggedUser.changePwdDelAccUrl,"DELETE",n);case 4:"success"===(s=e.sent).status&&(this.setState({profiles:this.state.profiles.filter((function(e){return e.id!==a}))}),this.setState({profileColumnMsg:{type:"norm",msg:s.message},loggedUser:"",cardOnFocusId:-1}),this.emptySessionStore()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.handleAPIError(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t)}},{key:"handleAPIError",value:function(e){this.setState({profileColumnMsg:{type:"warn",msg:e.name.includes("Validate")?e.errorFields:e.message}})}},{key:"handleCardFocus",value:function(e){""===this.state.loggedUser&&this.setState({cardOnFocusId:e===this.state.cardOnFocusId?"":e})}},{key:"handleLoginProc",value:function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("login"!==a){e.next=6;break}return this.setState({loggedUser:t.report.value,profileColumnMsg:"",profileAreaMsg:""}),e.next=4,this.fillInSessionStore(t.report.value);case 4:e.next=18;break;case 6:return e.next=8,this.readBackSessionStoreage();case 8:if(!(n=e.sent).id){e.next=15;break}n.todos=t.report.value,this.handleCardFocus(n.id),this.setState({loggedUser:n,profileAreaMsg:{id:n.id,messageContent:{type:"norm",msg:t.message}}}),e.next=18;break;case 15:return e.next=17,I("/profile/logout","GET","");case 17:this.handleLogoutProc(!1,"Local datas are missing. Please login again!");case 18:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleLogoutProc",value:function(){var e=Object(d.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({cardOnFocusId:-1,profileColumnMsg:{type:t?"norm":"warn",msg:a},profileAreaMsg:"",loggedUser:""});case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"readBackSessionStoreage",value:function(){return{id:sessionStorage.getItem("profId"),fullname:sessionStorage.getItem("profFullname"),age:sessionStorage.getItem("profAge"),occupation:sessionStorage.getItem("profOccup"),createNewTodo:sessionStorage.getItem("profSetTodo"),changePwdDelAccUrl:sessionStorage.getItem("profManage"),logoutUrl:sessionStorage.getItem("profLogout")}}},{key:"fillInSessionStore",value:function(e){sessionStorage.setItem("profId",e.id),sessionStorage.setItem("profFullname",e.fullname),sessionStorage.setItem("profAge",e.age),sessionStorage.setItem("profOccup",e.occupation),sessionStorage.setItem("profSetTodo",e.createNewTodo),sessionStorage.setItem("profManage",e.changePwdDelAccUrl),sessionStorage.setItem("profLogout",e.logoutUrl)}},{key:"emptySessionStore",value:function(){sessionStorage.removeItem("profId"),sessionStorage.removeItem("profFullname"),sessionStorage.removeItem("profAge"),sessionStorage.removeItem("profOccup"),sessionStorage.removeItem("profSetTodo"),sessionStorage.removeItem("profManage"),sessionStorage.removeItem("profLogout")}},{key:"setUserAcknowlCookie",value:function(){localStorage.setItem("cookieUsage",!0),this.setState({userAcknolwledge:!0})}},{key:"getUserAcknowlCookie",value:function(){this.setState({userAcknolwledge:localStorage.getItem("cookieUsage")})}},{key:"render",value:function(){var e=this,t=this.state.loggedUser?"":Object(f.jsxs)(n.Fragment,{children:[Object(f.jsx)("h4",{className:"columnTitleText",children:"Accessing for your activity list, login or register an account!"}),Object(f.jsx)(z,{regServMsg:this.state.registerAreaMsg,funcRegister:this.registerProfProc}),Object(f.jsx)("h4",{className:"columnTitleText",children:"Accounts in the system:"})]}),a="";a="object"===typeof this.state.profiles?Object(f.jsxs)("section",{className:"profileList",children:[t,Object(f.jsx)(O,{messageContent:this.state.profileColumnMsg}),this.state.profiles.map((function(t,a){var s=e.state.loggedUser.id===t.id,r=s||!e.state.loggedUser,o=e.state.profileAreaMsg.id===t.id?e.state.profileAreaMsg.messageContent:"";return r?Object(f.jsx)(V,{userid:t.id,username:t.username,loginUrl:t.loginUrl,userExtraDatas:s?e.state.loggedUser:"",userExtraMessage:o,cardOnFocus:e.state.cardOnFocusId===t.id,funcCardFocus:e.handleCardFocus,funcLoginProc:e.handleLoginProc,funcLogoutProc:e.handleLogoutProc,funcCardRemoval:e.removeProfProc},t.id):Object(f.jsx)(n.Fragment,{},a)}))]}):Object(f.jsxs)("section",{className:"profileList",children:[t,Object(f.jsx)(O,{messageContent:this.state.profileColumnMsg}),Object(f.jsx)("div",{className:"profileList"})]},"a1");var s=this.state.loggedUser?Object(f.jsx)($,{createNewTodo:this.state.loggedUser.createNewTodo,todoContent:this.state.loggedUser.todos}):"",r=this.state.loggedUser?"":Object(f.jsx)(m,{}),o=this.state.userAcknolwledge?"":Object(f.jsx)(x,{funcUserAcknowl:this.setUserAcknowlCookie});return Object(f.jsxs)("div",{className:"appContainer",children:[Object(f.jsx)(j,{}),Object(f.jsxs)("main",{className:"mainApp",children:[Object(f.jsx)(v,{location:"main profiles",children:a}),Object(f.jsx)(v,{location:"main todos",children:s}),r]}),Object(f.jsx)("footer",{className:"footerApp blackBackgr",children:o})]})}}]),a}(n.Component),X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,35)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),r(e),o(e)}))};o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(Q,{})}),document.getElementById("root")),X()}},[[34,1,2]]]);
//# sourceMappingURL=main.754af6e4.chunk.js.map